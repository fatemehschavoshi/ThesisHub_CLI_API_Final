{% extends "base.html" %}
{% block title %}ÙˆØ±ÙˆØ¯ Ø¯Ø§ÙˆØ± | ThesisHub{% endblock %}

{% block extra_css %}
<style>
  .auth-wrap { min-height: 60vh; }
</style>
{% endblock %}

{% block content %}
<div class="row justify-content-center auth-wrap">
  <div class="col-md-6 col-lg-5">
    <div class="card p-4 p-md-5">
      <h5 class="mb-3">ÙˆØ±ÙˆØ¯ Ø¯Ø§ÙˆØ±</h5>
      <p class="text-muted small mb-4">Ù„Ø·ÙØ§Ù‹ Ú©Ø¯ Ø§Ø³ØªØ§Ø¯ÛŒ (Ø¯Ø§ÙˆØ±) Ùˆ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.</p>

      {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
      {% endif %}

      <!-- Login form -->
      <form method="post" action="{{ url_for('judge_login_post') }}">
        <div class="mb-3">
          <label for="code" class="form-label">Ú©Ø¯ Ø§Ø³ØªØ§Ø¯ÛŒ (Ø¯Ø§ÙˆØ±)</label>
          <input
            id="code"
            name="code"
            class="form-control"
            required
            autocomplete="username"
            inputmode="latin"
            placeholder="Ù…Ø«Ø§Ù„: T2002">
          <div class="form-text">Ú©Ø¯ÛŒ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¯Ø§ÙˆØ± Ø«Ø¨Øª Ø´Ø¯Ù‡ Ø§Ø³Øª.</div>
        </div>

        <div class="mb-3">
          <label for="password" class="form-label">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
          <div class="input-group">
            <input
              id="password"
              type="password"
              name="password"
              class="form-control"
              required
              autocomplete="current-password"
              minlength="4"
              placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
            <button class="btn btn-outline-secondary" type="button" id="togglePwd" title="Ù†Ù…Ø§ÛŒØ´/Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù†">ğŸ‘ï¸</button>
          </div>
          <div class="form-text">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø­Ø¯Ø§Ù‚Ù„ Û´ Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯.</div>
        </div>

        <!-- Optional: Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ… ÙˆÙ„ÛŒ Ø¨Ú©â€ŒØ§Ù†Ø¯ ÙØ¹Ù„Ø§Ù‹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯ -->
        <div class="form-check mb-3">
          <input class="form-check-input" type="checkbox" value="1" id="remember" name="remember">
          <label class="form-check-label" for="remember">Ù…Ø±Ø§ Ø¨Ù‡ Ø®Ø§Ø·Ø± Ø¨Ø³Ù¾Ø§Ø±</label>
        </div>

        <div class="d-grid">
          <button type="submit" class="btn btn-dark">ÙˆØ±ÙˆØ¯</button>
        </div>
      </form>

      <div class="d-flex justify-content-between mt-3 small">
        <a class="text-decoration-none" href="{{ url_for('student_login_get') }}">ÙˆØ±ÙˆØ¯ Ø¯Ø§Ù†Ø´Ø¬Ùˆ</a>
        <a class="text-decoration-none" href="{{ url_for('prof_login_get') }}">ÙˆØ±ÙˆØ¯ Ø§Ø³ØªØ§Ø¯</a>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
  (function(){
    const btn = document.getElementById('togglePwd');
    const pwd = document.getElementById('password');
    if (btn && pwd) {
      btn.addEventListener('click', function(){
        const t = pwd.getAttribute('type') === 'password' ? 'text' : 'password';
        pwd.setAttribute('type', t);
      });
    }
  })();
</script>
{% endblock %}
